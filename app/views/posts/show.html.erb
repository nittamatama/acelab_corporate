<main class="main">
  <div class="inner">
    <div class="post__wrapper">
      <p class="post__hedding">
        <%= @post.title%>
        <%= flash[:notice] %>
      </p>
      <%# <%= link_to "by#{@post.user.name}","/users/#{@post.user_id}", class: :post__user 投稿者の名前をクリックしたらユーザー紹介ページに飛ぶようにしておこう %>
         <div class="post__manage">
          <%# <% if user_signed_in? && current_user.id == @prototype.user_id %> 
           <%= link_to "編集する", edit_post_path(@post), method: :get, class: :post__btn %> 
           <%= link_to "削除する", post_path(@post), method: :delete, class: :post__btn %> 
          <%# <% end %> 
         </div>  
      <div class="post__image">
        <%= image_tag @post.image %>
      </div>
      <div class="post__body">
        <div class="prototype__detail">
          <p class="detail__title">記事内容</p>
          <p class="detail__message">
            <%= @post.text %>
          </p>
            <% if @post.likes.find_by(ip: request.remote_ip) %>
              <%= button_to "いいね解除", post_like_path(@post), method: :delete %>
            <% else %>
              <%= button_to 'いいね', post_likes_path(@post) %>
            <% end %>
            <%= @likes_count %>
            <% @post.tags.each do |tag| %>
              <%= tag.tag_name %>
            <% end %>
          
        </div>
      </div>
      <%# <div class="prototype__comments">
        <%# ログインしているユーザーには以下のコメント投稿フォームを表示する %>
        <%# <%if user_signed_in? %> 
          <%# <%= form_with(model: [@prototype, @comment], local: true) do |f|%> 
            <%# <div class="field"> %>
              <%# <%= f.label :text, "コメント"<br />  %>
              <%# <%= f.text_field :text %> 
            <%# </div> %>
            <%# <div class="actions"> %>
              <%# <%= f.submit "送信する", class: :form__btn  %> 
            <%# </div> %>
          <%# <% end %>  
        <%# <% end %> 
        <%# // ログインしているユーザーには上記を表示する %>
        <%# <ul class="comments_lists"> %>
          <%# 投稿に紐づくコメントを一覧する処理を記述する %>
          <%# <ol class="comments_list"> %>
              <%# <% @comments.each do |comment|<li>  %>
                <%# <%= comment.text %> 
                <%# <%= link_to comment.user.name, "/users/#{comment.user_id}", class: :comment_user %> 
               <%# </li> %>
            <%# <% end %> 
          <%# </ol> %>
          <%# // 投稿に紐づくコメントを一覧する処理を記述する %>
        <%# </ul> %>
      <%# </div> %>
    </div>
  </div>
</main>
